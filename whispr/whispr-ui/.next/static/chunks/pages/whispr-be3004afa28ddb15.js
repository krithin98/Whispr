(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[427],{3787:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var a=t(7876),l=t(4232),r=t(7328),i=t.n(r),n=t(3257),c=t(2584),d=t(9996),x=t(57),m=t(1174),o=t(1180),h=t(6762);function g(){var e,s;let[t,r]=(0,l.useState)(null),[g,v]=(0,l.useState)(null),[j,p]=(0,l.useState)([]),[u,y]=(0,l.useState)("day"),[N,b]=(0,l.useState)(null),[f,w]=(0,l.useState)([]),[_,A]=(0,l.useState)({transitions:[],active_chains:{}}),k=(0,l.useCallback)(async()=>{try{let e=await fetch("http://localhost:8000/api/price/current"),s=await e.json();r(s);let t=await fetch("http://localhost:8000/api/levels/".concat(u)),a=await t.json();v(a);let l=await fetch("http://localhost:8000/api/level-hits"),i=await l.json();p(i.hits||[]);let n=await fetch("http://localhost:8000/api/patterns"),c=await n.json();w(c.patterns||[]);let d=await fetch("http://localhost:8000/api/movements"),x=await d.json();A(x);let m=await fetch("http://localhost:8000/api/system/health"),o=await m.json();b(o)}catch(e){console.error("Error fetching data:",e)}},[u]);(0,l.useEffect)(()=>{k();let e=setInterval(k,3e4);return()=>clearInterval(e)},[k]);let P=(null==N?void 0:N.status)==="healthy"?"text-green-400":(null==N?void 0:N.status)==="delayed"?"text-yellow-400":"text-red-400";return(0,a.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:"Whispr - Professional SPX Level Analytics"}),(0,a.jsx)("meta",{name:"description",content:"Comprehensive ATR level tracking and movement analytics"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsx)("header",{className:"bg-gray-900 border-b border-gray-800",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"w-8 h-8 text-blue-500"}),(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Whispr"})]}),(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"Comprehensive SPX Level Analytics"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm ".concat(P),children:(null==N?void 0:N.status)||"Unknown"})]}),N&&(0,a.jsx)("span",{className:"text-xs text-gray-500",children:N.message})]})]})})}),(0,a.jsxs)("main",{className:"container mx-auto px-4 py-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsx)(n.A,{data:t}),(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(o.A,{className:"w-5 h-5 text-blue-500"}),(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-400",children:"Patterns Today"})]}),(0,a.jsx)("div",{className:"text-2xl font-bold",children:f.length}),f.length>0&&(0,a.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:["Latest: ",null==(e=f[0])?void 0:e.pattern_type]})]}),(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(h.A,{className:"w-5 h-5 text-green-500"}),(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-400",children:"Level Hits"})]}),(0,a.jsx)("div",{className:"text-2xl font-bold",children:j.length}),(0,a.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:"Across all timeframes"})]}),(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(m.A,{className:"w-5 h-5 text-purple-500"}),(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-400",children:"Transitions"})]}),(0,a.jsx)("div",{className:"text-2xl font-bold",children:_.total_transitions||0}),(0,a.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:"Level movements today"})]})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("div",{className:"flex gap-2 bg-gray-900 p-2 rounded-lg border border-gray-800 inline-flex",children:[{value:"day",label:"Day"},{value:"multiday",label:"Multiday"},{value:"swing",label:"Swing"},{value:"position",label:"Position"},{value:"longterm",label:"Long Term"}].map(e=>(0,a.jsx)("button",{onClick:()=>y(e.value),className:"px-4 py-2 rounded transition-colors ".concat(u===e.value?"bg-blue-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"),children:e.label},e.value))})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2",children:[g&&t&&(0,a.jsx)(c.A,{levels:g.levels,currentPrice:t.price,pdc:g.pdc,atr:g.atr,timeframe:u}),(0,a.jsxs)("div",{className:"mt-6 bg-gray-900 rounded-lg p-6 border border-gray-800",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Active Patterns"}),(0,a.jsxs)("div",{className:"space-y-2",children:[f.slice(0,5).map((e,s)=>(0,a.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-800 rounded",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-white font-medium",children:e.pattern_type}),(0,a.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["[",e.timeframe,"]"]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:[e.from_level," → ",e.to_level]})]},s)),0===f.length&&(0,a.jsx)("div",{className:"text-gray-500 text-center py-4",children:"No patterns detected yet"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.A,{hits:j}),(0,a.jsxs)("div",{className:"mt-6 bg-gray-900 rounded-lg p-6 border border-gray-800",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Transitions"}),(0,a.jsx)("div",{className:"space-y-2",children:null==(s=_.transitions)?void 0:s.slice(0,5).map((e,s)=>(0,a.jsx)("div",{className:"text-sm",children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{className:"text-gray-400",children:[e.from_level," → ",e.to_level]}),(0,a.jsxs)("span",{className:"text-white",children:[e.count,"x"]})]})},s))})]})]})]})]}),(0,a.jsx)("footer",{className:"mt-12 border-t border-gray-800 bg-gray-900",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"\xa9 2025 Whispr - Professional Trading Analytics"}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Tracking ",Object.keys((null==g?void 0:g.levels)||{}).length," levels across 8 timeframes"]})]})})})]})}},4650:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/whispr",function(){return t(3787)}])}},e=>{e.O(0,[391,636,593,792],()=>e(e.s=4650)),_N_E=e.O()}]);